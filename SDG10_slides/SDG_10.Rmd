---
output:
  xaringan::moon_reader:
    seal: false
    css: ["css/sfah.css", "css/fonts.css", "default"]
    self_contained: false
    lib_dir: libs
    mathjax: "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML"
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
      titleSlideClass: ["left", "middle", "inverse"]
---
```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
library(knitr)
library(data.tree)

knitr::opts_chunk$set(
  warning = FALSE,
  collapse = TRUE,
  message = FALSE,
  echo = FALSE,
  fig.retina = 3,
  fig.width = 10
)
knitr::opts_knit$set(
  root.dir = ".."
)
# options(knitr.table.format = "html")
library(fontawesome) # from github: https://github.com/rstudio/fontawesome

```

class: inverse, right, bottom
background-image: url(img/abst1.jpg)
background-size: cover
## SDG Atlas 2020

## Goal 10: Reduce inequality within and among countries

---
```{r auxdata}
source("R/SDG_10_Gini_Change.R")

```

.left-column[
.small[From the mid 90's to 2010, the *average* Gini coefficient decreased steadly. Since then, the trend has reverted and the average inequality is increasing rapidly.]
]

.right-column[
```{r giniav}
p_av_g +
  geom_vline(xintercept = c(1996, 2010, 2013),
             color = "gray70")
```
]

---
.left-column[
.small[When we look at the trends at the region level, it is not very clear where the action is happening]
]
.right-column[
```{r giniregs}
p_av_gr
```
]
---

.left-column[
.small[SO, let's look at in a differnet way]
]
.right-column[
```{r gini45}
p_g
```
]

---
.left-column[
.small[LAC is the region that consistently has reduced inequality in most countries. This makes sense because inequality is measured with income-based welfare, which is by definition higher than consumption-based welfare,  so there is more room to improve. ]
]
.right-column[
```{r gini45lac}
p_g +
  ggforce::geom_mark_hull(
    aes(filter = region == 'LAC',
        fill = region,
        label = region),
    show.legend = FALSE,
    expand = unit(2, "mm"),
    concavity = 1
  )
``` 
]

---
.left-column[
.small[When we look at other regions, we don't find the same patterns.]
]
.right-column[
```{r gini45SSA}
p_g +
  ggforce::geom_mark_hull(
    aes(filter = region == 'SSA',
        fill = region,
        label = regionname),
    show.legend = FALSE,
    expand = unit(2, "mm"),
    concavity = 1
  )
```
]

---
.left-column[
.small[When we look at other regions, we don't find the same patterns.]
]
.right-column[
```{r gini45EAP}

p_g +
  ggforce::geom_mark_hull(
    aes(filter = region == 'EAP',
        fill = region,
        label = regionname),
    show.legend = FALSE,
    expand = unit(2, "mm"),
    concavity = 1
  )
```
]

---
class: inverse
## Another way to see inequality
---



